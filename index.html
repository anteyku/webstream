<!DOCTYPE html>
<html lang="ru">
	<head>
		<title>Но ани усердна питаються</title>
		<meta charset="utf-8">
		<meta name="authro" content="Nonamechik">
		<meta name="description" content="Повторения html - язика гипер тектовой разметки и css - язика стилей">
		<meta name="keywords" content="html,css,обучения">
		<link rel="stylesheet" type="text/css" href="normalaiz.css">
		<link rel="stylesheet" type="text/css" href="style_1.css">
		<link rel="shortcut icon" type="images/png" href="favicon.png">
		<link rel="preconnect" href="https://fonts.googleapis.com">


		

	</head>

    
	<body>


		<video autoplay></video> 
		<div><button id = "btnGetAudioTracks">getAudioTracks()
			 </button></div> 
		<div><button id = "btnGetTrackById">getTrackById()
			 </button></div> 
		<div><button id = "btnGetTracks">getTracks()</button></div> 
		<div><button id = "btnGetVideoTracks">getVideoTracks()
			 </button></div> 
		<div><button id = "btnRemoveAudioTrack">removeTrack() - audio
			 </button></div> 
		<div><button id = "btnRemoveVideoTrack">removeTrack() - video
			 </button></div> 


	
	</body>

  

</html>



<script>


/*
// рабочая проверка на работу видео в браузерре
//check if browser supports getUserMedia
if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
  alert('Your browser does not support recording!');
} else {
	console.log(`Браузер поддерживает аудио`);
}
*/


var stream;
  
function hasUserMedia() { 
   //check if the browser supports the WebRTC 
   return !!(navigator.getUserMedia || navigator.webkitGetUserMedia || 
      navigator.mozGetUserMedia); 
} 
 
if (hasUserMedia()) {
   navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia
      || navigator.mozGetUserMedia; 
		
   //enabling video and audio channels 
   navigator.getUserMedia({ video: true, audio: true }, function (s) { 
      stream = s; 
      var video = document.querySelector('video'); 
		
      //inserting our stream to the video tag     
      video.src = window.URL.createObjectURL(stream); 
   }, function (err) {}); 
	
} else { 
   alert("WebRTC is not supported"); 
}
  
btnGetAudioTracks.addEventListener("click", function(){ 
   console.log("getAudioTracks"); 
   console.log(stream.getAudioTracks()); 
});
  
btnGetTrackById.addEventListener("click", function(){ 
   console.log("getTrackById"); 
   console.log(stream.getTrackById(stream.getAudioTracks()[0].id)); 
});
  
btnGetTracks.addEventListener("click", function(){ 
   console.log("getTracks()"); 
   console.log(stream.getTracks()); 
});
 
btnGetVideoTracks.addEventListener("click", function(){ 
   console.log("getVideoTracks()"); 
   console.log(stream.getVideoTracks()); 
});

btnRemoveAudioTrack.addEventListener("click", function(){ 
   console.log("removeAudioTrack()"); 
   stream.removeTrack(stream.getAudioTracks()[0]); 
});
  
btnRemoveVideoTrack.addEventListener("click", function(){ 
   console.log("removeVideoTrack()"); 
   stream.removeTrack(stream.getVideoTracks()[0]); 
});


</script> 
  





